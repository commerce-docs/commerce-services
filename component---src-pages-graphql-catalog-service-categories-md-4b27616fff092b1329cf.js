"use strict";(self.webpackChunkcommerce_services=self.webpackChunkcommerce_services||[]).push([[837],{60327:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return p},default:function(){return g}});var a=t(58168),r=t(80045),d=(t(88763),t(15680)),m=t(83407),l=t(39753),i=t(63573),o=t(45111);const s=["components"],p={},u=(h="CodeBlock",function(e){return console.warn("Component "+h+" was not imported, exported, or provided by MDXProvider as global scope"),(0,d.mdx)("div",e)});var h;const x={_frontmatter:p},c=m.A;function g(e){let{components:n}=e,t=(0,r.A)(e,s);return(0,d.mdx)(c,(0,a.A)({},x,t,{components:n,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"categories-query"},"categories query"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"categories")," query returns category data. If the ",(0,d.mdx)("inlineCode",{parentName:"p"},"subtree")," input object is specified, the query returns details about subcategories."),(0,d.mdx)("h2",{id:"syntax"},"Syntax"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},"type Query {\n  categories(ids: [String!], roles: [String!], subtree: Subtree): [CategoryView]\n}\n")),(0,d.mdx)("p",null,"Where ",(0,d.mdx)("inlineCode",{parentName:"p"},"subtree")," is:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},"input Subtree {\n    startLevel: Int!,\n    depth: Int!\n}\n")),(0,d.mdx)("p",null,"If using the ",(0,d.mdx)("inlineCode",{parentName:"p"},"subtree")," input, only one category ",(0,d.mdx)("inlineCode",{parentName:"p"},"id")," can be specified in the query.\nThe ",(0,d.mdx)("inlineCode",{parentName:"p"},"subtree")," object allows you to specify how many levels of subcategories to return. Some sites may have a high number of subcategories, and returning the entire category tree could cause performance issues. It is recommended to keep ",(0,d.mdx)("inlineCode",{parentName:"p"},"depth")," to a maximum of 3 for the same reason."),(0,d.mdx)("h2",{id:"endpoints"},"Endpoints"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"Testing: ",(0,d.mdx)("inlineCode",{parentName:"li"},"https://catalog-service-sandbox.adobe.io/graphql")),(0,d.mdx)("li",{parentName:"ul"},"Production: ",(0,d.mdx)("inlineCode",{parentName:"li"},"https://catalog-service.adobe.io/graphql"))),(0,d.mdx)("h2",{id:"required-headers"},"Required headers"),(0,d.mdx)("p",null,"Specify the following HTTP headers to run this query."),(0,d.mdx)(l.A,{mdxType:"Headers"}),(0,d.mdx)("h3",{id:"find-the-customer-group-code"},"Find the customer group code"),(0,d.mdx)(i.A,{mdxType:"CustomerGroupCode"}),(0,d.mdx)("h2",{id:"example-usage"},"Example usage"),(0,d.mdx)("p",null,"The following query returns a category tree."),(0,d.mdx)(u,{slots:"heading, code",repeat:"2",languages:"JSON",mdxType:"CodeBlock"}),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Request:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},'categories(ids: ["11"], roles: ["show_in_menu", "active"], subtree: {\n    "depth": 3,\n    "startLevel": 1\n}) {\n    name\n    id\n    level\n    roles\n    path\n    urlPath\n    urlKey\n    parentId\n    children\n    }\n')),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Response:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'[\n   {\n      "name":"Bottoms",\n      "id":"13",\n      "level":3,\n      "roles":[\n         "active",\n         "show_in_menu"\n      ],\n      "path":"1/2/11/13",\n      "urlPath":"men/bottoms-men",\n      "urlKey":"bottoms-men",\n      "parentId":"11",\n      "children":[\n         "18",\n         "19"\n      ]\n   },\n   {\n      "name":"Tops",\n      "id":"12",\n      "level":3,\n      "roles":[\n         "active",\n         "show_in_menu"\n      ],\n      "path":"1/2/11/12",\n      "urlPath":"men/tops-men",\n      "urlKey":"tops-men",\n      "parentId":"11",\n      "children":[\n         "14",\n         "15",\n         "16",\n         "17"\n      ]\n   },\n   {\n      "name":"Jackets",\n      "id":"14",\n      "level":4,\n      "roles":[\n         "active",\n         "show_in_menu"\n      ],\n      "path":"1/2/11/12/14",\n      "urlPath":"men/tops-men/jackets-men",\n      "urlKey":"jackets-men",\n      "parentId":"12",\n      "children":[\n      ]\n   },\n   {\n      "name":"Pants",\n      "id":"18",\n      "level":4,\n      "roles":[\n         "active",\n         "show_in_menu"\n      ],\n      "path":"1/2/11/13/18",\n      "urlPath":"men/bottoms-men/pants-men",\n      "urlKey":"pants-men",\n      "parentId":"13",\n      "children":[\n      ]\n   },\n   {\n      "name":"Tanks",\n      "id":"17",\n      "level":4,\n      "roles":[\n         "active",\n         "show_in_menu"\n      ],\n      "path":"1/2/11/12/17",\n      "urlPath":"men/tops-men/tanks-men",\n      "urlKey":"tanks-men",\n      "parentId":"12",\n      "children":[\n      ]\n   },\n   {\n      "name":"Hoodies & Sweatshirts",\n      "id":"15",\n      "level":4,\n      "roles":[\n         "active",\n         "show_in_menu"\n      ],\n      "path":"1/2/11/12/15",\n      "urlPath":"men/tops-men/hoodies-and-sweatshirts-men",\n      "urlKey":"hoodies-and-sweatshirts-men",\n      "parentId":"12",\n      "children":[\n      ]\n   },\n   {\n      "name":"Shorts",\n      "id":"19",\n      "level":4,\n      "roles":[\n         "active",\n         "show_in_menu"\n      ],\n      "path":"1/2/11/13/19",\n      "urlPath":"men/bottoms-men/shorts-men",\n      "urlKey":"shorts-men",\n      "parentId":"13",\n      "children":[\n\n      ]\n   }\n]\n')),(0,d.mdx)("h2",{id:"input-fields"},"Input fields"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Field"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"ids")),(0,d.mdx)("td",{parentName:"tr",align:null},"[String!]"),(0,d.mdx)("td",{parentName:"tr",align:null},"Array of category IDs to return. If using ",(0,d.mdx)("inlineCode",{parentName:"td"},"subtree"),", must contain only one ID.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"roles")),(0,d.mdx)("td",{parentName:"tr",align:null},"[String!]","!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The list of category roles to be queried.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"subtree")),(0,d.mdx)("td",{parentName:"tr",align:null},"[",(0,d.mdx)("a",{parentName:"td",href:"#subtree-input"},"subtree"),"]"),(0,d.mdx)("td",{parentName:"tr",align:null},"Defines how many subcategories to return.")))),(0,d.mdx)("h3",{id:"subtree-input"},"subtree input"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Field"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"startLevel")),(0,d.mdx)("td",{parentName:"tr",align:null},"[Int!]"),(0,d.mdx)("td",{parentName:"tr",align:null},"The level in the category tree where the search should begin. Minimum of 1.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"depth")),(0,d.mdx)("td",{parentName:"tr",align:null},"[Int!]","!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The number of subtrees to return. Values over 3 may impact performance.")))),(0,d.mdx)("h2",{id:"output-fields"},"Output fields"),(0,d.mdx)(o.A,{mdxType:"Output"}))}g.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-catalog-service-categories-md-4b27616fff092b1329cf.js.map